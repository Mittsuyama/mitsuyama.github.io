计算机系统基础
Computer
主要学习《深入理解计算机系统》。这本书的主要论题包括：数据表示、C 程序的机器级表示、处理器结构，程序优化、存储器层次结构、链接、异常控制流、虚拟存储器和存储器管理、系统级 I/O、网络编程和并发编程。书中所覆盖的内容主要是这些方面是如何影响应用和系统程序员的。
2019/3/11



## 信息的标识和处理：位、整数

主要内容：位、字节、整数型

其他内容：信息的位标识、位级运算、整形数（标识，无符号与有符号数，扩展与截断，整数运算）、内存、指针、字符串表示

##### 位、字节、字

`「位」或者「比特」`：<u>最底层</u>的二进制数字（数码）称为位（bit，比特），值位 0 或 1；

`位组合`：把位组合在一起，采用某种规则进行解读

`字节`：8-bit 块（1bytes = 8bits）

`字`：CPU 中 ALU（Arithmetic Logic Unit）的数据位数 = CPU 中通用寄存器的位数（通常说计算机是 XX 位的，是指这台计算机 CPU 字的长度 OS 是 XX 位的，是指其 CPU 的工作模式，这与操作系统各 DLL [Dynamic Link Library] 库函数、编译连接环境有关）



在汇编语言、机器语言编程中，一个字指的是 16 位。数据存放时高字节在高地址、低字节在低地址。

##### 进制

MSB（Most Significant Bit）：最高有效位

LSB（Least Significant Bit）：最低有效位



二进制（B）：便于存储，算术运算简单，支持逻辑运算

十六进制（H）：与二进制互转简单，阅读书写方便

##### 计算机内的数值表示 —— 编码

需要考虑的问题：编码的长度、数的符号、数的运算



一般数据类型和运算（略）

#### 浮点数的表示

表示有理数的形式：
$$
(-1)^S \; 2^E \; M 
$$
其中：

S（符号 Sign）：决定正负

E（Exponent）：用 $2^E$ 将数值加权

M（位数 Significant）：二进制小数，数据范围 $[1.0, 2.0)$

##### 浮点编码

1. 最高有效位（MSB），最为符号位 s
2. exp 字段，编码 E（E 与 exp 不相等）
3. frac 字段编码尾数 M（与 M 也不一定相等）

##### 精度选项

单精度：32 bits（1 + 8 + 23）

双精度：64 bits（1 + 11 + 52）

扩展精度：80 bits（1 + 15 + 63/64）

##### 阶码（移码）

1. 真值：-126
2. 补码：10000010
3. 移码 + 128：00000010
4. 移码 + 127：00000001
5. 机器数：1

没有 -127，-128，空出 0000000 和 1111111

##### 规格化数

条件：exp ≠ 000…0 且 exp ≠ 111…1

阶码采用偏置值编码：E = Exp - Bias

$T = (-1)^S \times 2^{Bias + E} \times M$

##### 非规格化数

1. exp = 000...0，frac = 000...0：表示 0（`注意`：有 +0  和 -0 之分）
2. exp = 000...0，frac ≠ 000...0：表示最接近 0.0 的那些数（$frac * 2^{-126}$）
3. exp = 111…1，frac = 000...0：表示正负无穷
4. exp = 111…1，frac = 000...0：表示 Not a Number (NaN)

##### 默认的舍入模式

1. 恰好在两个可能数值中间时（中间值）：舍入后，最低有效位的数码位偶数
2. 其他的时候，像最近的数值舍入（比中间值小向下舍入，比中间值大向上舍入）

举例：

7/8：10.11**110** → 11.0**0** → 3

5/8：10.10**110** → 10.1**0** → 2

##### 浮点的运算

（看书）

